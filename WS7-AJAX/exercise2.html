<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Workshop 7: Exercise 2</title>
		<link rel="stylesheet" href="../css/styles.css" />
		<link rel="apple-touch-icon" sizes="180x180" href="../img/favicon_io/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="../img/favicon_io/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="../img/favicon_io/favicon-16x16.png">
		<link rel="manifest" href="/site.webmanifest">
	</head>
	<body>
		<h1>Workshop 7: Exercise 2: AJAX call to a JSON file</h1>
		<p><a href="index.html">Back to Workshop 7 index</a></p>

		<section class="exerciseOutput" id="js-exerciseOutput">
			output
		</section>

		<section>
			<h2>Exercise 2: AJAX call to a JSON file</h2>
			<p>
				Create an AJAX script, which will load the Star Wars file from the server:
				<a
					href="https://www.omdbapi.com/?s=star+wars&apikey=cbbc6750"
					target="_blank"
					>https://www.omdbapi.com/?s=star+wars&apikey=cbbc6750</a
				>.
			</p>
			<p>
				NOTE: The raw JSON data looks weird on the browser. You can use developer
				tools to study the contents by inspecting the DIV.
			</p>

			<p>The sample function shown in PowerPoint slides is pasted below.</p>
			<pre>
				// Load AJAX content into web page

				function loadJSONLDoc() {
						// Create AJAX object
						var xmlhttp = new XMLHttpRequest();

						// Specify the data / url to be fetched
						xmlhttp.open("GET", "INSERT URL/FILENAME HERE", true);
						xmlhttp.send();

						xmlhttp.onreadystatechange = function() {
								if(xmlhttp.readyState == 4 && xmlhttp.status == 200) {
					// find myDiv and insert results there
										document.getElementById("myDiv").innerHTML = xmlhttp.responseText;
								}
						}
				}
			</pre
			>
			<br />
			<p>
				<input
					type="button"
					name="Fetch2"
					id="Fetch2"
					value="Button"
					onclick="loadJSONFile()"
				/>
			</p>
			<div id="quotes"></div>
			<p>&nbsp;</p>
		</section>

		<script src="ws7-scripts/ws7-ext2.js"></script>
	</body>
</html>
